<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nadine's Ultimate Handheld HD üéÆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root { 
            --p: #ff007f; --b: #00d4ff; --y: #f1c40f; --w: #ffffff; 
            --case: #1e272e; --case-dark: #050505;
        }
        * { box-sizing: border-box; touch-action: manipulation; image-rendering: pixelated; }
        body { margin: 0; background: #0a0a0a; font-family: 'Press Start 2P', cursive; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }

        /* BODY KONSOL PREMIUM */
        #console-frame {
            width: 370px; height: 760px;
            background: linear-gradient(145deg, #2c3e50, #000);
            border-radius: 50px;
            padding: 25px;
            position: relative;
            box-shadow: 0 30px 60px rgba(0,0,0,0.8), inset 0 2px 5px rgba(255,255,255,0.1);
            border: 6px solid #111;
            display: flex; flex-direction: column; align-items: center;
        }

        /* LAYAR DENGAN EFEK CRT HD */
        #screen-border {
            width: 100%; height: 420px;
            background: #111;
            border-radius: 15px;
            padding: 10px;
            box-shadow: inset 0 0 20px #000;
            position: relative;
        }
        #screen {
            width: 100%; height: 100%;
            background: #87CEEB;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
            transition: background 4s ease;
        }
        /* Efek Garis TV Jadul */
        #screen::after {
            content: ""; position: absolute; inset: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            background-size: 100% 3px, 3px 100%;
            pointer-events: none; z-index: 20;
        }

        /* BACKGROUND AWAN BERGERAK */
        .cloud { position: absolute; background: white; border-radius: 5px; opacity: 0.8; z-index: 1; }

        /* STATS (HUD) */
        #hud {
            position: absolute; top: 12px; width: 100%;
            display: flex; justify-content: space-between; padding: 0 15px;
            font-size: 7px; color: #fff; text-shadow: 2px 2px #000; z-index: 30;
        }

        /* CONTROLLER AREA */
        #controls-area { width: 100%; flex: 1; display: flex; flex-direction: column; justify-content: space-around; padding: 20px 0; }
        
        /* Tombol Start/Select Karet */
        .mid-btns { display: flex; gap: 20px; margin-bottom: 10px; }
        .rubber-btn { width: 40px; height: 12px; background: #333; border-radius: 10px; box-shadow: 0 3px 0 #000; }

        .lower-controls { display: flex; justify-content: space-between; align-items: center; width: 100%; padding: 0 10px; }

        /* D-PAD HD */
        .dpad { width: 100px; height: 100px; position: relative; }
        .d-btn { position: absolute; background: #111; border: 2px solid #222; box-shadow: 0 4px 0 #000; }
        .v { width: 30px; height: 90px; left: 35px; border-radius: 5px; }
        .h { width: 90px; height: 30px; top: 35px; left: 5px; border-radius: 5px; }

        /* TOMBOL AKSI PS GLOSSY */
        .action-zone { width: 110px; height: 110px; position: relative; }
        .btn-main {
            position: absolute; width: 55px; height: 55px;
            background: radial-gradient(circle at 30% 30%, #444, #111);
            border: 3px solid var(--p); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 6px 0 #000, 0 0 15px var(--p);
            color: #fff; font-size: 16px; right: 10px; top: 25px;
        }
        .btn-main:active { transform: translateY(4px); box-shadow: 0 2px 0 #000, 0 0 5px var(--p); }

        /* SCREENS */
        .overlay { 
            position: absolute; inset: 0; background: rgba(0,0,0,0.85); 
            z-index: 100; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px;
        }
        .photo-frame {
            width: 140px; height: 140px; border: 4px solid var(--y); 
            border-radius: 15px; overflow: hidden; margin: 15px 0;
            box-shadow: 0 0 20px var(--y);
        }
        .photo-frame img { width: 100%; height: 100%; object-fit: cover; }

        /* MESSAGE CARD */
        #msg-card {
            background: #fff; color: #111; padding: 15px; border-radius: 10px;
            font-size: 7px; line-height: 1.8; text-align: left;
            max-height: 220px; overflow-y: auto; border: 4px solid var(--b);
        }

        #player { position: absolute; bottom: 45px; left: 40px; font-size: 35px; z-index: 10; filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.5)); }
        .enemy { position: absolute; bottom: 45px; font-size: 30px; z-index: 10; }
    </style>
</head>
<body>

<div id="console-frame">
    <div style="font-size: 7px; color: #555; margin-bottom: 10px;">HI SAYANG I LOVEU HIHI GA KEBACA YA</div>
    
    <div id="screen-border">
        <div id="screen">
            <div id="hud">
                <span>DIST: <span id="dist">0</span></span>
                <span>LEVEL: <span id="lvl">1</span></span>
            </div>

            <div id="start-screen" class="overlay">
                <div style="color:var(--y); font-size: 11px; text-shadow: 2px 2px var(--p);">Operation Buryamm</div>
                <div class="photo-frame">
                    <img src="https://img.sanishtech.com/u/837ab5217a024743b9ffbb70022d4c18.png" alt="Nadine">
                </div>
                <p style="font-size: 6px; color: #aaa;">Click X to start the journey</p>
            </div>

            <div id="win-screen" class="overlay" style="display:none; background: var(--case);">
                <div style="color:var(--y); margin-bottom: 10px;">BUBUR AYAM AQUIREDD! </div>
                <div id="msg-card"></div>
                <button onclick="location.reload()" style="margin-top:10px; font-family:'Press Start 2P'; font-size:7px; background:var(--p); color:white; border:none; padding:8px;">RETRY</button>
            </div>

            <div id="player">üë©üèª</div>
            <div id="ground" style="position:absolute; bottom:0; width:100%; height:45px; background:#2ecc71; border-top:4px solid #1e7e34;"></div>
        </div>
    </div>

    <div id="controls-area">
        <div class="mid-btns" style="justify-content: center;">
            <div style="text-align:center"><div class="rubber-btn"></div><div style="font-size:5px; margin-top:5px">SELECT</div></div>
            <div style="text-align:center"><div class="rubber-btn"></div><div style="font-size:5px; margin-top:5px">START</div></div>
        </div>

        <div class="lower-controls">
            <div class="dpad">
                <div class="d-btn v"></div>
                <div class="d-btn h"></div>
            </div>
            
            <div style="color:rgba(255,255,255,0.1); font-size:12px;">X ‚óè ‚ñ≤ ‚ñ†</div>

            <div class="action-zone">
                <div class="btn-main" onpointerdown="jump()">X</div>
            </div>
        </div>
    </div>

    <div style="font-size: 6px; color: #444; margin-top: 10px;">PRODUCED BY EZA FOR NADINE</div>
</div>

<script>
    let active = false, distance = 0, speed = 5, playerY = 0, isJumping = false, jumpVel = 0;
    let audioCtx, obstacles = [], powerups = []; // Powerups ditambahkan
    const screen = document.getElementById('screen');
    const player = document.getElementById('player');

    function playSound(f, d, t='sine') {
        if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let o = audioCtx.createOscillator(), g = audioCtx.createGain();
        o.type = t; o.frequency.value = f;
        g.gain.setValueAtTime(0.1, audioCtx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + d);
        o.connect(g); g.connect(audioCtx.destination);
        o.start(); o.stop(audioCtx.currentTime + d);
    }

    function jump() {
        if(!active) { startGame(); return; }
        if(!isJumping) {
            isJumping = true; jumpVel = 15;
            playSound(500, 0.2, 'square');
        }
    }

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        active = true;
        // Spawn Awan Decor
        for(let i=0; i<3; i++) spawnCloud();
        gameLoop();
        spawnEnemy();
        spawnPowerup(); // Munculkan hati
    }

    function spawnCloud() {
        let c = document.createElement('div');
        c.className = 'cloud';
        c.style.width = (40 + Math.random()*40)+'px';
        c.style.height = '15px';
        c.style.top = (20 + Math.random()*100)+'px';
        c.x = 360 + Math.random()*200;
        screen.appendChild(c);
        animateCloud(c);
    }

    function animateCloud(c) {
        if(!active) return;
        c.x -= 0.5;
        c.style.left = c.x + 'px';
        if(c.x < -100) c.x = 360;
        requestAnimationFrame(() => animateCloud(c));
    }

    function spawnEnemy() {
        if(!active) return;
        let e = { x: 360, el: document.createElement('div') };
        e.el.className = 'enemy';
        e.el.innerText = ['üè¨','üè´','üè†','üå≥'][Math.floor(Math.random()*4)];
        screen.appendChild(e.el);
        obstacles.push(e);
        setTimeout(spawnEnemy, Math.max(700, 2000 - (distance/15)));
    }

    // FUNGSI BARU: SPAWN HATI
    function spawnPowerup() {
        if(!active) return;
        let p = { x: 360, y: 110 + Math.random() * 60, el: document.createElement('div') };
        p.el.style.position = 'absolute';
        p.el.style.fontSize = '25px';
        p.el.style.zIndex = '15';
        p.el.style.filter = 'drop-shadow(0 0 8px var(--p))';
        p.el.innerText = 'üç≤';
        screen.appendChild(p.el);
        powerups.push(p);
        
        // Muncul tiap 6-10 detik agar terasa langka/spesial
        setTimeout(spawnPowerup, 6000 + Math.random() * 4000);
    }

    function gameLoop() {
        if(!active) return;

        // Logika Lompat
        if(isJumping) {
            playerY += jumpVel; jumpVel -= 0.8;
            if(playerY <= 0) { playerY = 0; isJumping = false; }
            player.style.bottom = (45 + playerY) + 'px';
        }

        // Logika Musuh
        obstacles.forEach((o, i) => {
            o.x -= speed;
            o.el.style.left = o.x + 'px';
            if(o.x < 80 && o.x > 40 && playerY < 35) gameOver();
            if(o.x < -40) { o.el.remove(); obstacles.splice(i, 1); }
        });

        // LOGIKA BARU: PERGERAKAN & TABRAKAN HATI
        powerups.forEach((p, i) => {
            p.x -= speed;
            p.el.style.left = p.x + 'px';
            p.el.style.bottom = p.y + 'px';

            // Deteksi jika Nadine mengambil hati di udara
            if(p.x < 85 && p.x > 35 && Math.abs((p.y - 45) - playerY) < 45) {
                distance += 300; // Bonus jarak besar!
                playSound(800, 0.2, 'sine');
                p.el.remove();
                powerups.splice(i, 1);
                
                // Efek Flash HD saat ambil hati
                
    // Gunakan string kosong '' alih-alih 'none' agar tidak merusak transisi CSS
    setTimeout(() => { screen.style.filter = ''; }, 300); 
}
            if(p.x < -40) { p.el.remove(); powerups.splice(i, 1); }
        });

        distance += 1;
        document.getElementById('dist').innerText = distance;
        document.getElementById('lvl').innerText = Math.floor(distance/1000) + 1;
        speed += 0.001;

        // Day/Night Cycle (Sesuai permintaanmu: diperlama)
        screen.style.background = (distance % 4000 < 2000) ? "#87CEEB" : "#1a1a2e";

        if(distance >= 4000) winGame();
        else requestAnimationFrame(gameLoop);
    }

    function gameOver() {
        active = false;
        playSound(80, 0.6, 'sawtooth');
        alert("CRASH! Tetap semangat ya Nadine!");
        location.reload();
    }

    function winGame() {
        active = false;
        document.getElementById('win-screen').style.display = 'flex';
        const notes = [261, 329, 392, 523, 659, 783];
        notes.forEach((f, i) => setTimeout(() => playSound(f, 0.5), i*250));

        const txt = `[SYSTEM: BERHASIL MENDAPATKAN BURYAM]\n[PLAYER: NADINE SYAKIRA PRETTY]\n\nyess dapett dehh buburnyaa wkwkwk. aamiin semoga ada jalan buat dapetin itu di dunia nyata yaa besokk wkwkwkwk\n\nntahlahh besokk bakal jadi aoaa enggaa yang pentingg aku mau berterimakasih ke kamuu deh buat hari iniii, udaa nemenin sehariannn tuu, walaupun ga secara langsungg tapi keberadaanmu adaa di sini teruss koo.. makasihh banyakk yaa udaa selalu adaa buat akk.. ak seneng banget deewhh bisa cerita cerita ke kamuuu.. ya walaupun hari ini hanya ada sedikit ceritaa tapibtetep seruu bangett, dann semogaabbesok bisa bertemu lagi dan seru seruann seoerti kemarinn aamiin..\n\nfathann mintaa maaf yaa kalau hari ini banyak ngeselinnyaaa, dari yang tadii kamu suda melihat igku, teruss tadii mebgganggu sesorahmuu dann banyaik ngambeknyaaa fathann mau minta maaf yaaa\n\nyasudaa fathann udaa ngantukk banget iniii hehehee.. timakasii banyakk yaa buat hari ini8i, selamatt beristirahatt yaa sayanggg.. semigaa kitaa bisa bertemuunbesokkk aamiin yaallah, okeyydee goodnight yaaa semoga mimpi indahh sayanggg.. mimpiin ak yaaa paipai papaaiii\n\nje t'aimeee bieenn yaa sayangtg, aku sayangg kamuu bangett 2day 2morow 4everrrü©µüíôü©µüíôü©µüíôü©µüíôü©µüíôü©µüíôüíôü©µüíôü©µüíôü©µüíôü©µüíôü©µ`;
        
        let i = 0;
        function type() {
            if(i < txt.length) {
                document.getElementById('msg-card').innerHTML += txt[i] === '\n' ? '<br>' : txt[i];
                i++; setTimeout(type, 40);
            }
        }
        type();
    }
</script>

</body>
</html>
